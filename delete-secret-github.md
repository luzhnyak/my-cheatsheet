### –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—É –∑ —ñ—Å—Ç–æ—Ä—ñ—ó GitHub.

–û—Å—å —è–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ü–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ üëá

---

## üîé 1. –ó–Ω–∞–π–¥–∏ —ñ –ø—Ä–∏–±–µ—Ä–∏ —Ç–æ–∫–µ–Ω –∑ –∫–æ–¥—É

---

# ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 1 (—è–∫—â–æ —Ü–µ –æ—Å—Ç–∞–Ω–Ω—ñ–π –∫–æ–º—ñ—Ç)

–Ø–∫—â–æ —Å–µ–∫—Ä–µ—Ç –≤ –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É –∫–æ–º—ñ—Ç—ñ:

```bash
git reset --soft HEAD~1
```

–í–∏–ø—Ä–∞–≤ —Ñ–∞–π–ª (–ø—Ä–∏–±–µ—Ä–∏ —Ç–æ–∫–µ–Ω)

–ü–æ—Ç—ñ–º:

```bash
git add .
git commit -m "remove secret"
git push origin main --force
```

---

# ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 2 (—è–∫—â–æ —Å–µ–∫—Ä–µ—Ç –≥–ª–∏–±—à–µ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó)

–ü–æ—Ç—Ä—ñ–±–µ–Ω rebase:

```bash
git rebase -i ade1c60a847be6e2e31f3c0f23c0cadfadff4896^
```

–ü–æ–∑–Ω–∞—á –∫–æ–º—ñ—Ç —è–∫ `edit`, –ø—Ä–∏–±–µ—Ä–∏ —Å–µ–∫—Ä–µ—Ç, –ø–æ—Ç—ñ–º:

```bash
git add .
git commit --amend
git rebase --continue
git push origin main --force
```

---

# üî• –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –û–ë–û–í º–Ø–ó–ö–û–í–û

–û—Å–∫—ñ–ª—å–∫–∏ —Å–µ–∫—Ä–µ—Ç –≤–∂–µ –±—É–≤ –∑–∞–∫–æ–º—ñ—á–µ–Ω–∏–π, –∑–º—ñ–Ω–∏ –π–æ–≥–æ —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å–∞—Ö.

---

## üîé 2. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é


–î–æ–±—Ä–µ üëç —Ç–æ–¥—ñ —Å–µ–∫—Ä–µ—Ç **–Ω–µ –≤ –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É –∫–æ–º—ñ—Ç—ñ**, –∞ –¥–µ—Å—å –≥–ª–∏–±—à–µ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó ‚Äî —Ç–æ–º—É –∑–≤–∏—á–∞–π–Ω–∏–π `reset HEAD~1` –≤–∂–µ –Ω–µ –¥–æ–ø–æ–º–æ–∂–µ.

–¢—Ä–µ–±–∞ **–ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é** —ñ –≤–∏–¥–∞–ª–∏—Ç–∏ —Å–µ–∫—Ä–µ—Ç —ñ–∑ —Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º—ñ—Ç—É `ade1c60a...`.

---

# üî• –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

–û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —Ç–≤—ñ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —ñ, —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ, —Ç–∏ –ø—Ä–∞—Ü—é—î—à —Å–∞–º ‚Äî –Ω–∞–π—á–∏—Å—Ç—ñ—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç:

## 1Ô∏è‚É£ –ü–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –ø–æ–≤–Ω—ñ—Å—Ç—é

–Ø–∫—â–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —â–µ –Ω–µ–≤–µ–ª–∏–∫–∏–π —ñ –Ω–µ –ø—Ä–æ–¥–∞–∫—à–Ω ‚Äî –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –∂–æ—Ä—Å—Ç–∫–µ –æ—á–∏—â–µ–Ω–Ω—è.

### –í—Å—Ç–∞–Ω–æ–≤–∏ git-filter-repo (—è–∫—â–æ –Ω–µ–º–∞)

```bash
pip install git-filter-repo
```

---

## 2Ô∏è‚É£ –í–∏–¥–∞–ª–∏ —Ñ–∞–π–ª —ñ–∑ —ñ—Å—Ç–æ—Ä—ñ—ó –ø–æ–≤–Ω—ñ—Å—Ç—é

```bash
git filter-repo --path app/utils/file_with_secret.py --invert-paths
```

‚ö†Ô∏è –¶–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –∑ —É—Å—ñ—Ö –∫–æ–º—ñ—Ç—ñ–≤.

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ:

```bash
git push origin main --force
```

---

# ‚úÖ –ê–±–æ –≤–∞—Ä—ñ–∞–Ω—Ç —Ç–æ—á–∫–æ–≤–∏–π (—è–∫—â–æ —Ñ–∞–π–ª —Ç—Ä–µ–±–∞ –∑–±–µ—Ä–µ–≥—Ç–∏)

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ª–∏—à–∏—Ç–∏ —Ñ–∞–π–ª, –∞–ª–µ –ø—Ä–∏–±—Ä–∞—Ç–∏ —Ç–æ–∫–µ–Ω:

```bash
git rebase -i ade1c60a847be6e2e31f3c0f23c0cadfadff4896^
```

–í —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ:

```
edit ade1c60a...
```

–ü–æ—Ç—ñ–º:

```bash
# –ø—Ä–∏–±–∏—Ä–∞—î—à —Ç–æ–∫–µ–Ω –∑ —Ñ–∞–π–ª—É
git add app/utils/file_with_secret.py
git commit --amend
git rebase --continue
```

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è:

```bash
git push origin main --force
```

---

## Error: Could not read from remote repository.

–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤ —Ç–µ–±–µ **–Ω–µ–º–∞—î –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ–≥–æ remote –∑ –Ω–∞–∑–≤–æ—é `origin`** (–∞–±–æ –≤—ñ–Ω –∑–ª–∞–º–∞–≤—Å—è –ø—ñ—Å–ª—è filter-repo).

–ü–µ—Ä–µ–≤—ñ—Ä:

```bash
git remote -v
```

–Ø–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–≤–µ–¥–µ ‚Äî remote —Å–ø—Ä–∞–≤–¥—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π.

---

# ‚úÖ –î–æ–¥–∞–π remote –∑–Ω–æ–≤—É

–°–∫–æ–ø—ñ—é–π HTTPS-–∞–¥—Ä–µ—Å—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –∑ GitHub
(–≤—ñ–Ω —É —Ç–µ–±–µ –±—É–≤ —Ç–∞–∫–∏–π):

```
https://github.com/luzhnyak/my-repo.git
```

–î–æ–¥–∞–π –π–æ–≥–æ:

```bash
git remote add origin https://github.com/luzhnyak/my-repo.git
```

–ü–µ—Ä–µ–≤—ñ—Ä:

```bash
git remote -v
```

–ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏:

```
origin  https://github.com/... (fetch)
origin  https://github.com/... (push)
```

---

# üöÄ –¢–µ–ø–µ—Ä –ø—É—à:

```bash
git push origin main --force
```

---

